<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>
      AITRICS 2026 | WBS & Step-based Gantt (Final + Cards + Export)
    </title>

    <style>
      :root {
        --bg: #030406;
        --surface: #0b0d12;
        --border: #1e222d;
        --text-p: #f8fafc;
        --text-s: #94a3b8;
        --data: #00d1ff;
        --ai: #a855f7;
        --svc: #f43f5e;
        --reg: #fbbf24;
        --done: #10b981;
        --warn: #fb7185;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        padding: 20px;
        background: var(--bg);
        color: var(--text-p);
        font-family:
          Pretendard,
          system-ui,
          -apple-system,
          Segoe UI,
          Roboto,
          "Noto Sans KR",
          sans-serif;
      }
      h2 {
        margin: 0 0 12px 0;
      }
      a {
        color: inherit;
      }
      .card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 14px;
        margin-bottom: 16px;
        overflow-x: auto;
      }
      .nav {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin: 10px 0 14px 0;
      }
      .nav button {
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.02);
        color: var(--text-p);
        border-radius: 10px;
        padding: 8px 10px;
        font-size: 12px;
        font-weight: 900;
        cursor: pointer;
      }
      .nav button:hover {
        background: rgba(255, 255, 255, 0.04);
      }
      .nav button.active {
        background: rgba(255, 255, 255, 0.06);
        border-color: rgba(255, 255, 255, 0.22);
      }
      .small {
        font-size: 11px;
        color: var(--text-s);
      }
      .badge {
        display: inline-block;
        font-size: 10px;
        font-weight: 900;
        padding: 3px 8px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: #161b22;
        color: var(--text-s);
      }
      .btn {
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.02);
        color: var(--text-p);
        border-radius: 10px;
        padding: 8px 10px;
        font-size: 12px;
        font-weight: 900;
        cursor: pointer;
      }
      .btn:hover {
        background: rgba(255, 255, 255, 0.04);
      }
      .btn.primary {
        border-color: rgba(56, 189, 248, 0.25);
      }
      .btn.danger {
        border-color: rgba(251, 113, 133, 0.35);
      }
      .input {
        border: 1px solid var(--border);
        background: rgba(255, 255, 255, 0.02);
        color: var(--text-p);
        border-radius: 10px;
        padding: 8px 10px;
        font-size: 12px;
        font-weight: 800;
        outline: none;
      }
      .grid-2 {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }
      .grid-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
      }
      @media (max-width: 1100px) {
        .grid-3 {
          grid-template-columns: 1fr;
        }
      }
      @media (max-width: 900px) {
        .grid-2 {
          grid-template-columns: 1fr;
        }
      }

      .p-card {
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 12px;
      }
      .p-top {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        align-items: flex-start;
      }
      .p-name {
        font-size: 12.5px;
        font-weight: 900;
      }
      .p-meta {
        font-family: ui-monospace, Menlo, Consolas, monospace;
        font-size: 11px;
        color: var(--text-s);
        text-align: right;
        white-space: nowrap;
      }
      .p-bar {
        margin-top: 10px;
        height: 10px;
        border-radius: 999px;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.06);
      }
      .p-fill {
        height: 100%;
      }
      .p-foot {
        margin-top: 10px;
        display: flex;
        justify-content: space-between;
        gap: 10px;
        align-items: center;
      }
      .pill {
        font-family: ui-monospace, Menlo, Consolas, monospace;
        font-size: 10px;
        font-weight: 900;
        padding: 3px 7px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: #161b22;
        color: var(--text-s);
        white-space: nowrap;
      }

      table {
        border-collapse: collapse;
        width: 100%;
      }
      th,
      td {
        border: 1px solid var(--border);
        padding: 6px 8px;
        font-size: 12px;
        vertical-align: top;
      }
      th {
        background: rgba(255, 255, 255, 0.04);
        color: var(--text-s);
        white-space: nowrap;
      }
      .gantt-cell {
        width: 56px;
        position: relative;
        min-width: 56px;
      }
      .bar {
        position: absolute;
        top: 6px;
        left: 4px;
        height: 18px;
        border-radius: 6px;
      }
      .cb {
        accent-color: var(--done);
        cursor: pointer;
      }
      .stepline {
        display: flex;
        gap: 8px;
        align-items: center;
        font-size: 12px;
        margin: 2px 0;
      }
      .dept {
        font-weight: 900;
        margin-top: 10px;
      }
      .task {
        margin-left: 12px;
      }

      .chips {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
        align-items: center;
      }
      .chip {
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(255, 255, 255, 0.02);
        color: var(--text-s);
        border-radius: 999px;
        padding: 6px 10px;
        font-size: 11px;
        font-weight: 900;
        cursor: pointer;
        user-select: none;
      }
      .chip.on {
        color: var(--text-p);
        border-color: rgba(56, 189, 248, 0.25);
        background: rgba(56, 189, 248, 0.08);
      }

      .hr {
        height: 1px;
        background: var(--border);
        margin: 12px 0;
      }
      .mono {
        font-family: ui-monospace, Menlo, Consolas, monospace;
      }
    </style>
  </head>

  <body>
    <h2>üìÖ AITRICS 2026 ‚Äì Step Í∏∞Î∞ò WBS + ÏûêÎèô Gantt + Ï†úÏ∂úÏö© Ìëú</h2>

    <div class="nav">
      <button class="active" data-tab="dash">ÏöîÏïΩ Ïπ¥Îìú</button>
      <button data-tab="gantt">Gantt</button>
      <button data-tab="wbs">WBS(Ï≤¥ÌÅ¨)</button>
      <button data-tab="export">Í∏∞Í¥Ä Ï†úÏ∂úÏö© WBS Ìëú</button>
    </div>

    <!-- DASH -->
    <div class="card" id="tab-dash"></div>

    <!-- GANTT -->
    <div class="card" id="tab-gantt" style="display: none"></div>

    <!-- WBS -->
    <div class="card" id="tab-wbs" style="display: none"></div>

    <!-- EXPORT -->
    <div class="card" id="tab-export" style="display: none"></div>

    <script>
      /* =====================
   CONFIG
===================== */
      const MONTHS = [
        "Jan",
        "Feb",
        "Mar",
        "Apr",
        "May",
        "Jun",
        "Jul",
        "Aug",
        "Sep",
        "Oct",
        "Nov",
        "Dec",
      ];
      const fmt = (d) => d.toISOString().slice(0, 10);

      /* =====================
   DATA (Í∏∞Î≥∏ÏûêÎ£å Í∏∞Î∞ò + Ìï©Î¶¨Ï†Å Í∞ÄÏ†ï Step Î∂ÑÌï¥/Í∞ÄÏ§ëÏπò)
   - "ÏÑúÎ≤Ñ=50%, Î¨∏ÏÑú=10%" Í∞ôÏùÄ Í∞úÎÖêÏùÄ Í∞Å task ÏÑ±Í≤©Ïóê ÎßûÏ∂∞ Î∞òÏòÅ(Í∞úÎ∞ú/Íµ¨ÌòÑ/ÏãúÌóò ÎπÑÏ§ë ‚Üë, Î¨∏ÏÑú ÎπÑÏ§ë 10%ÎåÄ)
===================== */
      const DATA = {
        roadmap: [
          {
            dept: "Îç∞Ïù¥ÌÑ∞ ÏóîÏßÄÎãàÏñ¥ÎßÅ/Ïó∞Í≥Ñ",
            color: "var(--data)",
            tasks: [
              {
                id: "DE-1",
                text: "Í∞ÄÏ†ïÏö© Ïù∏Í≥µÌò∏Ìù°Í∏∞ Ïã†Ìò∏ Îç∞Ïù¥ÌÑ∞ ÏàòÏßë Î∞è Ï†ÑÏÜ°, Î∂ÑÏÑù ÌååÏù¥ÌîÑÎùºÏù∏ ÏÑ§Í≥Ñ",
                steps: [
                  {
                    week: "Feb W1",
                    label: "ÏàòÏßë Ïã†Ìò∏/Î≥ÄÏàò Î≤îÏúÑ Ï†ïÏùò",
                    weight: 15,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Feb W2",
                    label: "Îç∞Ïù¥ÌÑ∞ Ï†ÑÏÜ° Î∞©Ïãù¬∑Ï£ºÍ∏∞ ÏÑ§Í≥Ñ",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W1",
                    label: "Î∂ÑÏÑù ÌååÏù¥ÌîÑÎùºÏù∏ ÏïÑÌÇ§ÌÖçÏ≤ò ÏÑ§Í≥Ñ",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W2",
                    label: "Ïû•Ïï†/ÎàÑÎùΩ/Ïû¨Ï≤òÎ¶¨ ÏãúÎÇòÎ¶¨Ïò§ Ï†ïÏùò",
                    weight: 25,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W3",
                    label: "ÏÑ§Í≥Ñ Î¨∏ÏÑú Ï†ïÎ¶¨(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
              {
                id: "DE-2",
                text: "Í∞ÄÏ†ïÏö© Ïù∏Í≥µÌò∏Ìù°Í∏∞ Îç∞Ïù¥ÌÑ∞ Í≤∞Ï∏°Í∞í Î∞è Ïù¥ÏÉÅÏπò Ï≤òÎ¶¨",
                steps: [
                  {
                    week: "Mar W1",
                    label: "Í≤∞Ï∏°/Ïù¥ÏÉÅÏπò Í∏∞Ï§Ä Ï†ïÏùò",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W2",
                    label: "Ï≤òÎ¶¨ Ï†ïÏ±Ö ÏÑ§Í≥Ñ",
                    weight: 25,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W1",
                    label: "Ï≤òÎ¶¨ Î°úÏßÅ ÌååÏù¥ÌîÑÎùºÏù∏ Î∞òÏòÅ(Í∞úÎ∞ú)",
                    weight: 35,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W2",
                    label: "ÏÉòÌîå Í≤ÄÏ¶ù Î∞è ÌäúÎãù(ÏãúÌóò)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W3",
                    label: "Ï≤òÎ¶¨ Í∑úÏπô Î¨∏ÏÑúÌôî(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
              {
                id: "DE-3",
                text: "PRO ÏÑ§Î¨∏ Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞ ÏÑ§Í≥Ñ Î∞è Í∏∞Ìöç",
                steps: [
                  {
                    week: "Mar W1",
                    label: "PRO Ìï≠Î™© ÌõÑÎ≥¥ Ï†ïÏùò",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W2",
                    label: "Îç∞Ïù¥ÌÑ∞ Íµ¨Ï°∞/Ïä§ÌÇ§Îßà ÏÑ§Í≥Ñ",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W1",
                    label: "ÏàòÏßë Ï£ºÍ∏∞¬∑Ïó∞Í≥Ñ Ìè¨Ïù∏Ìä∏ Ï†ïÏùò",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W2",
                    label: "API/Ï†ÄÏû• Íµ¨Ï°∞ Ï†ïÎ¶¨",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W3",
                    label: "Î™ÖÏÑ∏ Î¨∏ÏÑúÌôî(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
              {
                id: "DE-4",
                text: "T-Bridge, MDIP Ïó∞Í≥Ñ Î™®Îìà Îç∞Ïù¥ÌÑ∞ ÏÜ°/ÏàòÏã† ÌååÏù¥ÌîÑÎùºÏù∏ ÏÑ§Í≥Ñ&Í∞úÎ∞ú",
                steps: [
                  {
                    week: "Feb W3",
                    label: "Ïô∏Î∂Ä ÏãúÏä§ÌÖú ÏöîÍµ¨ÏÇ¨Ìï≠ Ï†ïÎ¶¨",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W1",
                    label: "ÏÜ°¬∑ÏàòÏã† Ïù∏ÌÑ∞ÌéòÏù¥Ïä§ ÏÑ§Í≥Ñ",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W2",
                    label: "ÌååÏù¥ÌîÑÎùºÏù∏ Íµ¨ÌòÑ(Í∞úÎ∞ú)",
                    weight: 40,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W1",
                    label: "ÌÜµÌï© ÌÖåÏä§Ìä∏¬∑ÏòàÏô∏ Ï≤òÎ¶¨(ÏãúÌóò)",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W2",
                    label: "Ïö¥ÏòÅ/Î™ÖÏÑ∏ Î¨∏ÏÑú Ï†ïÎ¶¨(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
            ],
          },
          {
            dept: "AI ÏïåÍ≥†Î¶¨Ï¶ò/Î™®Îç∏ Í∞úÎ∞ú",
            color: "var(--ai)",
            tasks: [
              {
                id: "AI-1",
                text: "Í∞ÄÏ†ïÏö© Ïù∏Í≥µÌò∏Ìù°Í∏∞ Ïã†Ìò∏ Î™®ÎãàÌÑ∞ÎßÅ Ïù∏Í≥µÏßÄÎä• ÏïåÍ≥†Î¶¨Ï¶ò ÏÑ§Í≥Ñ",
                steps: [
                  {
                    week: "Mar W1",
                    label: "Î¨∏Ï†ú Ï†ïÏùò¬∑ÌèâÍ∞ÄÏßÄÌëú ÏÑ§Ï†ï",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W2",
                    label: "ÏûÖÎ†• ÌîºÏ≤ò/Ïã†Ìò∏ ÌëúÌòÑ ÏÑ§Í≥Ñ",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W1",
                    label: "Î™®Îç∏ÎßÅ Ï†ÑÎûµ¬∑Íµ¨Ï°∞ ÏÑ§Í≥Ñ",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W2",
                    label: "ÌåêÎã®/ÏïåÎ¶º Î°úÏßÅ ÏÑ§Í≥Ñ",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W3",
                    label: "ÏÑ§Í≥Ñ Î¨∏ÏÑúÌôî(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
              {
                id: "AI-2",
                text: "ÏïåÍ≥†Î¶¨Ï¶ò ÏÑ±Îä• ÌèâÍ∞Ä Î∞è Ïû¨ÌÉù ÌôòÍ≤Ω Ï†ÅÌï©ÏÑ± ÌôïÎ≥¥Î•º ÏúÑÌïú Î™®Îç∏ ÏÑ±Îä• Î≥¥Ï†ï",
                steps: [
                  {
                    week: "May W1",
                    label: "ÌèâÍ∞Ä ÏãúÎÇòÎ¶¨Ïò§¬∑Îç∞Ïù¥ÌÑ∞ÏÖã Ï†ïÏùò",
                    weight: 15,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "May W2",
                    label: "1Ï∞® ÏÑ±Îä• ÌèâÍ∞Ä(ÏãúÌóò)",
                    weight: 25,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Jun W1",
                    label: "Ïû¨ÌÉù ÌôòÍ≤Ω Î∞òÏòÅ Î≥¥Ï†ï(Í∞úÎ∞ú)",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Jun W2",
                    label: "ÏÑ±Îä• Ïû¨ÌèâÍ∞Ä¬∑ÌäúÎãù(ÏãúÌóò)",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Jun W3",
                    label: "ÌèâÍ∞Ä Î≥¥Í≥†ÏÑú(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
              {
                id: "AI-3",
                text: "Ïó≠Ìï† Î∂ÑÎ¶¨Ìòï Îã§Ï§ë Ïª¥Ìè¨ÎÑåÌä∏ Íµ¨Ï°∞ AI ÏãúÏä§ÌÖú ÏÑ§Í≥Ñ",
                steps: [
                  {
                    week: "Apr W1",
                    label: "Ïó≠Ìï† Î∂ÑÎ¶¨ Í∏∞Ï§Ä Ï†ïÏùò",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W2",
                    label: "Ïª¥Ìè¨ÎÑåÌä∏ Í∞Ñ I/O ÏÑ§Í≥Ñ",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "May W1",
                    label: "Î°úÍ∑∏¬∑Ï∂îÏ†ÅÏÑ± ÏÑ§Í≥Ñ",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "May W2",
                    label: "ÏïàÏ†Ñ¬∑Ïù∏ÌóàÍ∞Ä Í¥ÄÏ†ê Í≤ÄÌÜ†",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "May W3",
                    label: "ÏïÑÌÇ§ÌÖçÏ≤ò Î¨∏ÏÑú(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
            ],
          },
          {
            dept: "ÏÑúÎπÑÏä§ Í∞úÎ∞ú/Íµ¨ÌòÑ",
            color: "var(--svc)",
            tasks: [
              {
                id: "SV-1",
                text: "ÏÜåÏïÑÌò∏Ìù°Î∂ÄÏ†Ñ ÌäπÌôî ÏßàÏùò¬∑ÏùëÎãµ Ï±óÎ¥á Î™®Îìà Í∞úÎ∞ú Î∞è Ìä∏Î¶¨ÏïÑÏ†ú Î™®Îìà Í∞úÎ∞ú ÏúÑÌïú Ï†ÑÎ¨∏Í∞Ä ÏûêÎ¨∏ Î∞è ÏÇ¨Ïö©Ïûê Ïù∏ÌÑ∞Î∑∞",
                steps: [
                  {
                    week: "Mar W2",
                    label: "ÎåÄÏÉÅÏûê/Ï†ÑÎ¨∏Í∞Ä ÏÑ†Ï†ï",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W3",
                    label: "Ïù∏ÌÑ∞Î∑∞ Í∞ÄÏù¥Îìú ÏÑ§Í≥Ñ",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W1",
                    label: "Ïù∏ÌÑ∞Î∑∞¬∑ÏûêÎ¨∏ ÏàòÌñâ",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W2",
                    label: "Ïù∏ÏÇ¨Ïù¥Ìä∏ Ï†ïÎ¶¨¬∑ÏöîÍµ¨ÏÇ¨Ìï≠ Î∞òÏòÅ",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Apr W3",
                    label: "Í≤∞Í≥º Î¨∏ÏÑú(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
              {
                id: "SV-2",
                text: "Î™®Î∞îÏùº Ïï± Í∏∞Îä• Í∞úÎ∞ú",
                steps: [
                  {
                    week: "May W1",
                    label: "Í∏∞Îä• Ï†ïÏùò¬∑Î∞±Î°úÍ∑∏ ÌôïÏ†ï",
                    weight: 15,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "May W2",
                    label: "ÌïµÏã¨ Í∏∞Îä• Íµ¨ÌòÑ(Í∞úÎ∞ú)",
                    weight: 40,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Jun W1",
                    label: "Îç∞Ïù¥ÌÑ∞¬∑AI Ïó∞Í≥Ñ(Í∞úÎ∞ú)",
                    weight: 25,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Jun W2",
                    label: "QA¬∑ÏÇ¨Ïö©ÏÑ± Í∞úÏÑ†(ÏãúÌóò)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Jun W3",
                    label: "Î¶¥Î¶¨Ï¶à/Ïö¥ÏòÅ Î¨∏ÏÑú(Î¨∏ÏÑú 10%)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
            ],
          },
          {
            dept: "Ïù∏ÌóàÍ∞Ä",
            color: "var(--reg)",
            tasks: [
              {
                id: "RA-1",
                text: "ÎîîÏßÄÌÑ∏ ÏùòÎ£åÍ∏∞Í∏∞ Ïù∏ÌóàÍ∞Ä ÏÇ¨Ï†ÑÏÉÅÎã¥",
                steps: [
                  {
                    week: "Mar W1",
                    label: "ÏùòÎèÑÎêú ÏÇ¨Ïö©¬∑Ï∂úÎ†• Ï†ïÏùò",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W2",
                    label: "Í∏∞Îä•Î∂ÑÎ¶¨¬∑Î¶¨Ïä§ÌÅ¨ Ï†ïÎ¶¨",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W3",
                    label: "ÏÇ¨Ï†ÑÏÉÅÎã¥ ÏûêÎ£å Ìå®ÌÇ§Ïßï",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Mar W4",
                    label: "Í≤∞Í≥º Ï†ïÎ¶¨ Î¨∏ÏÑú(Î¨∏ÏÑú)",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
              {
                id: "RA-2",
                text: "ÎîîÏßÄÌÑ∏ ÏùòÎ£åÍ∏∞Í∏∞ Ïù∏ÌóàÍ∞Ä ÏàòÌñâ",
                steps: [
                  {
                    week: "Jul W1",
                    label: "Í∏∞Ïà†Î¨∏ÏÑú¬∑QMS ÌôïÏ†ï",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Aug W1",
                    label: "ÏÑ±Îä•¬∑ÏúÑÌóòÍ¥ÄÎ¶¨ ÏûêÎ£å ÏûëÏÑ±(Î¨∏ÏÑú/Í∑ºÍ±∞)",
                    weight: 30,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Sep W1",
                    label: "Ï†úÏ∂úÎ≥∏ QA¬∑Í∞≠ ÌÅ¥Î°úÏßï(Í≤ÄÌÜ†)",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Oct W1",
                    label: "Ï†úÏ∂ú¬∑Î≥¥ÏôÑ ÎåÄÏùë",
                    weight: 20,
                    done: false,
                    doneAt: null,
                  },
                  {
                    week: "Dec W2",
                    label: "ÏµúÏ¢Ö Î¨∏ÏÑú Ï†ïÎ¶¨",
                    weight: 10,
                    done: false,
                    doneAt: null,
                  },
                ],
              },
            ],
          },
        ],
      };

      /* =====================
   STATE
===================== */
      let viewDept = "ALL"; // ÏöîÏïΩ/ÌëúÏóêÏÑú Dept ÌïÑÌÑ∞

      /* =====================
   UTIL
===================== */
      function normalizeWeights(task) {
        // ÌòπÏãú Í∞ÄÏ§ëÏπò Ìï©Ïù¥ 100Ïù¥ ÏïÑÎãå Í≤ΩÏö∞ ÎåÄÎπÑ(Îç∞Ïù¥ÌÑ∞ Î∞îÍøîÎèÑ ÏïàÏ†Ñ)
        const sum = task.steps.reduce((s, x) => s + (Number(x.weight) || 0), 0);
        if (sum === 100 || sum === 0) return;
        // ÎπÑÏú® Ïú†ÏßÄÌïòÎ©∞ 100ÏúºÎ°ú Ïä§ÏºÄÏùº ÌõÑ Î∞òÏò¨Î¶º, ÎßàÏßÄÎßâ step Î≥¥Ï†ï
        const scaled = task.steps.map((s) =>
          Math.round((s.weight / sum) * 100),
        );
        const diff = 100 - scaled.reduce((a, b) => a + b, 0);
        scaled[scaled.length - 1] += diff;
        task.steps.forEach((s, i) => (s.weight = scaled[i]));
      }
      function taskProgress(task) {
        normalizeWeights(task);
        const done = task.steps
          .filter((s) => s.done)
          .reduce((sum, s) => sum + s.weight, 0);
        return Math.round(done);
      }
      function deptProgress(group) {
        const allSteps = group.tasks.flatMap((t) =>
          t.steps.map((s) => ({ t, s })),
        );
        const total = allSteps.reduce((sum, x) => sum + (x.s.weight || 0), 0);
        const done = allSteps
          .filter((x) => x.s.done)
          .reduce((sum, x) => sum + (x.s.weight || 0), 0);
        // totalÏùÄ taskÎãπ 100Ïî©Ïù¥Îãà (task Ïàò*100)ÏúºÎ°ú Îñ®Ïñ¥Ïßê
        return Math.round(total ? (done / total) * 100 : 0);
      }
      function totalProgress() {
        const groups = DATA.roadmap;
        const totalTasks = groups.reduce((sum, g) => sum + g.tasks.length, 0);
        const doneWeighted = groups.reduce(
          (sum, g) => sum + g.tasks.reduce((s, t) => s + taskProgress(t), 0),
          0,
        );
        return Math.round(
          totalTasks ? (doneWeighted / (totalTasks * 100)) * 100 : 0,
        );
      }
      function getWeeksTimeline() {
        const weeks = [];
        MONTHS.forEach((m) => {
          for (let w = 1; w <= 4; w++) weeks.push(`${m} W${w}`);
        });
        return weeks;
      }
      function colorForDept(dept) {
        const g = DATA.roadmap.find((x) => x.dept === dept);
        return g ? g.color : "rgba(255,255,255,.2)";
      }

      /* =====================
   TABS
===================== */
      document.querySelectorAll(".nav button").forEach((btn) => {
        btn.onclick = () => {
          document
            .querySelectorAll(".nav button")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          const tab = btn.dataset.tab;
          ["dash", "gantt", "wbs", "export"].forEach((k) => {
            document.getElementById("tab-" + k).style.display =
              k === tab ? "block" : "none";
          });
          renderAll();
        };
      });

      /* =====================
   DASH: Dept/Task ÏöîÏïΩ Ïπ¥Îìú
===================== */
      function renderDash() {
        const el = document.getElementById("tab-dash");
        const total = totalProgress();
        const depts = DATA.roadmap.map((g) => ({
          dept: g.dept,
          pct: deptProgress(g),
          color: g.color,
          tasks: g.tasks.length,
        }));

        // Dept chips
        const chipHtml = `
    <div style="display:flex;justify-content:space-between;gap:10px;align-items:center;flex-wrap:wrap">
      <div>
        <span class="badge">TOTAL</span>
        <span style="font-weight:900;font-size:22px;margin-left:8px">${total}%</span>
        <span class="small" style="margin-left:8px">Ï†ÑÏ≤¥(Dept/Task/Step Í∞ÄÏ§ëÏπò Í∏∞Î∞ò)</span>
      </div>
      <div class="chips" id="dept-chips"></div>
    </div>
    <div class="hr"></div>
  `;

        const deptCards = `
    <div class="grid-3" style="margin-bottom:10px">
      ${depts
        .map(
          (d) => `
        <div class="p-card" style="cursor:pointer" onclick="setDeptFilter('${escapeHtml(d.dept)}')">
          <div class="p-top">
            <div class="p-name">${escapeHtml(d.dept)}</div>
            <div class="p-meta">${d.pct}%<br/><span>${d.tasks} tasks</span></div>
          </div>
          <div class="p-bar"><div class="p-fill" style="width:${d.pct}%;background:${d.color}"></div></div>
          <div class="p-foot">
            <span class="pill">SCOPE: 2026</span>
            <span class="pill mono">${d.pct}%</span>
          </div>
        </div>
      `,
        )
        .join("")}
    </div>
  `;

        // Task cards (dept filter Ï†ÅÏö©)
        const groups =
          viewDept === "ALL"
            ? DATA.roadmap
            : DATA.roadmap.filter((g) => g.dept === viewDept);
        const taskCards = `
    <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
      <div style="font-weight:900">Task ÏßÑÌñâÎ•† (${viewDept === "ALL" ? "Ï†ÑÏ≤¥" : "Dept: " + viewDept})</div>
      <div class="small">* Task % = Step Í∞ÄÏ§ëÏπò Ìï©</div>
    </div>
    <div class="hr"></div>
    <div class="grid-3">
      ${groups
        .flatMap((g) =>
          g.tasks.map((t) => {
            const pct = taskProgress(t);
            return `
          <div class="p-card">
            <div class="p-top">
              <div class="p-name"><span class="mono" style="color:${g.color}">${t.id}</span> ¬∑ ${escapeHtml(t.text)}</div>
              <div class="p-meta">${pct}%</div>
            </div>
            <div class="p-bar"><div class="p-fill" style="width:${pct}%;background:${g.color}"></div></div>
            <div class="p-foot">
              <span class="pill">${escapeHtml(g.dept)}</span>
              <span class="pill">${t.steps.filter((s) => s.done).length}/${t.steps.length} steps</span>
            </div>
          </div>
        `;
          }),
        )
        .join("")}
    </div>
  `;

        el.innerHTML = chipHtml + deptCards + taskCards;

        // chips render
        const chips = el.querySelector("#dept-chips");
        chips.innerHTML = "";
        const allChip = document.createElement("div");
        allChip.className = "chip " + (viewDept === "ALL" ? "on" : "");
        allChip.textContent = "Ï†ÑÏ≤¥";
        allChip.onclick = () => setDeptFilter("ALL");
        chips.appendChild(allChip);

        DATA.roadmap.forEach((g) => {
          const c = document.createElement("div");
          c.className = "chip " + (viewDept === g.dept ? "on" : "");
          c.textContent = g.dept;
          c.onclick = () => setDeptFilter(g.dept);
          chips.appendChild(c);
        });
      }
      function setDeptFilter(dept) {
        viewDept = dept;
        renderAll();
      }

      /* =====================
   GANTT (Ïõî/Ï£º)
   - barÎäî step Îã®ÏúÑ ÏôÑÎ£å Ïó¨Î∂ÄÎ°ú Ï±ÑÏõåÏßê(Í∞Å stepÏù¥ Ìï¥Îãπ Ï£º Ïπ∏Ïóê 0% or 100%)
===================== */
      function renderGantt() {
        const el = document.getElementById("tab-gantt");
        const weeks = getWeeksTimeline();

        const groups =
          viewDept === "ALL"
            ? DATA.roadmap
            : DATA.roadmap.filter((g) => g.dept === viewDept);

        let html = `
    <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
      <div style="font-weight:900">Ïõî/Ï£º ÌÉÄÏûÑÎùºÏù∏ Gantt (${viewDept === "ALL" ? "Ï†ÑÏ≤¥" : "Dept: " + viewDept})</div>
      <div class="small">* Í∞Å Ï£º Ïπ∏ÏùÄ stepÏù¥ ÏûàÏúºÎ©¥ 0%/100%Î°ú Ï±ÑÏõÄ</div>
    </div>
    <div class="hr"></div>
    <table>
      <thead>
        <tr><th style="min-width:90px">Task ID</th><th style="min-width:360px">Task</th>
  `;
        weeks.forEach((w) => (html += `<th>${w}</th>`));
        html += `</tr></thead><tbody>`;

        groups.forEach((g) => {
          g.tasks.forEach((t) => {
            html += `<tr>
        <td class="mono" style="color:${g.color};font-weight:900">${t.id}</td>
        <td>${escapeHtml(t.text)} <span class="badge" style="margin-left:6px">${taskProgress(t)}%</span></td>
      `;
            weeks.forEach((w) => {
              const step = t.steps.find((s) => s.week === w);
              if (step) {
                html += `
            <td class="gantt-cell">
              <div class="bar" style="width:${step.done ? 100 : 0}%;background:${g.color}"></div>
            </td>
          `;
              } else {
                html += `<td class="gantt-cell"></td>`;
              }
            });
            html += `</tr>`;
          });
        });

        html += `</tbody></table>`;
        el.innerHTML = html;
      }

      /* =====================
   WBS (Ï≤¥ÌÅ¨)
   - step Ï≤¥ÌÅ¨ Ïãú doneAt ÏûêÎèô Í∏∞Î°ù
===================== */
      function renderWBS() {
        const el = document.getElementById("tab-wbs");
        const groups =
          viewDept === "ALL"
            ? DATA.roadmap
            : DATA.roadmap.filter((g) => g.dept === viewDept);

        let html = `
    <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
      <div style="font-weight:900">WBS (Step Ï≤¥ÌÅ¨) (${viewDept === "ALL" ? "Ï†ÑÏ≤¥" : "Dept: " + viewDept})</div>
      <div class="small">* step ÏôÑÎ£å Ïãú ÏûêÎèô ÏôÑÎ£åÏùº Í∏∞Î°ù(Ïò§Îäò)</div>
    </div>
    <div class="hr"></div>
  `;

        groups.forEach((g, gi) => {
          html += `<div class="dept" style="color:${g.color}">${escapeHtml(g.dept)} <span class="badge">${deptProgress(g)}%</span></div>`;
          g.tasks.forEach((t, ti) => {
            html += `<div class="task small"><span class="mono" style="color:${g.color};font-weight:900">${t.id}</span> ¬∑ ${escapeHtml(t.text)} <span class="badge">${taskProgress(t)}%</span></div>`;
            t.steps.forEach((s, si) => {
              html += `
          <div class="stepline task">
            <input type="checkbox" class="cb" ${s.done ? "checked" : ""}
              onchange="toggleStep(${gi},${ti},${si},this.checked)">
            <span class="mono">${s.week}</span>
            <span>${escapeHtml(s.label)}</span>
            <span class="small">(${s.weight}%)</span>
            <span class="small mono">${s.doneAt || ""}</span>
          </div>
        `;
            });
          });
        });

        el.innerHTML = html;
      }

      function toggleStep(gi, ti, si, val) {
        const step = DATA.roadmap[gi].tasks[ti].steps[si];
        step.done = val;
        step.doneAt = val ? fmt(new Date()) : null;
        renderAll();
      }

      /* =====================
   EXPORT: Í∏∞Í¥Ä Ï†úÏ∂úÏö© WBS Ìëú Î≥ÄÌôò
   - flatten table: Dept / TaskID / TaskÎ™Ö / Step(Ï£ºÏ∞®) / StepÎ™Ö / Í∞ÄÏ§ëÏπò / ÏôÑÎ£åÏó¨Î∂Ä / ÏôÑÎ£åÏùº
   - CSV Îã§Ïö¥Î°úÎìú + ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨
===================== */
      function renderExport() {
        const el = document.getElementById("tab-export");
        const groups =
          viewDept === "ALL"
            ? DATA.roadmap
            : DATA.roadmap.filter((g) => g.dept === viewDept);

        const rows = [];
        groups.forEach((g) => {
          g.tasks.forEach((t) => {
            normalizeWeights(t);
            t.steps.forEach((s, idx) => {
              const range = weekToDateRange(s.week);
              const taskRange = taskDateRange(t);

              rows.push({
                Dept: g.dept,
                TaskID: t.id,
                Task: t.text,

                TaskStartDate: taskRange.start, // ‚úÖ Task ÏãúÏûëÏùº
                TaskEndDate: taskRange.end, // ‚úÖ Task Ï¢ÖÎ£åÏùº

                Year: range.year,
                Month: range.month,
                Week: range.week,
                StartDate: range.start,
                EndDate: range.end,

                StepNo: idx + 1,
                Step: s.label,
                Weight: s.weight,
                Status: s.done ? "DONE" : "OPEN",
                DoneAt: s.doneAt || "",
              });
            });
          });
        });

        // Controls
        let html = `
    <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:10px;flex-wrap:wrap">
      <div>
        <div style="font-weight:900">Í∏∞Í¥Ä Ï†úÏ∂úÏö© WBS Ìëú (${viewDept === "ALL" ? "Ï†ÑÏ≤¥" : "Dept: " + viewDept})</div>
        <div class="small">* Excel/Í≥µÎ¨∏ Ï†úÏ∂úÏóê Ï†ÅÌï©Ìïú ‚ÄúÌèâÎ©¥(Flatten) ÌÖåÏù¥Î∏î‚Äù</div>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
        <button class="btn primary" onclick="downloadCSV()">CSV Îã§Ïö¥Î°úÎìú</button>
        <button class="btn" onclick="copyCSV()">CSV Î≥µÏÇ¨</button>
        <span class="badge">${rows.length} rows</span>
      </div>
    </div>
    <div class="hr"></div>
  `;

        // Table
        html += `<table id="export-table">
    <thead>
      <tr>
        <th>Dept</th>
<th>Task ID</th>
<th>Task</th>

<th>TaskStartDate</th>   <!-- ‚úÖ -->
<th>TaskEndDate</th>     <!-- ‚úÖ -->

<th>Year</th>
<th>Month</th>
<th>Week</th>
<th>StartDate</th>
<th>EndDate</th>

<th>Step #</th>
<th>Step</th>
   
        
        </tr>
    </thead>
    <tbody>
  `;
        rows.forEach((r) => {
          html += `<tr>
      <td>${escapeHtml(r.Dept)}</td>
      <td class="mono">${escapeHtml(r.TaskID)}</td>
      <td>${escapeHtml(r.Task)}</td>
      <td class="mono">${r.StepNo}</td>
      <td class="mono">${escapeHtml(r.PlanWeek)}</td>
      <td>${escapeHtml(r.Step)}</td>
      <td class="mono">${r.Weight}</td>
      <td>${r.Status === "DONE" ? `<span style="color:var(--done);font-weight:900">DONE</span>` : `<span style="color:var(--text-s)">OPEN</span>`}</td>
      <td class="mono">${escapeHtml(r.DoneAt)}</td>
    </tr>`;
        });
        html += `</tbody></table>`;

        // CSV textarea preview (optional)
        html += `
    <div class="hr"></div>
    <div class="small" style="margin-bottom:6px">CSV ÎØ∏Î¶¨Î≥¥Í∏∞ (Î≥µÏÇ¨/Í≤ÄÏ¶ùÏö©)</div>
    <textarea class="input mono" id="csv-preview" style="width:100%;min-height:140px;resize:vertical"></textarea>
  `;

        el.innerHTML = html;

        // fill preview
        const csv = buildCSV(rows);
        el.querySelector("#csv-preview").value = csv;

        // expose to buttons
        window.__EXPORT_ROWS__ = rows;
        window.__EXPORT_CSV__ = csv;
      }

      function buildCSV(rows) {
        const headers = [
          "Dept",
          "TaskID",
          "Task",
          "TaskStartDate",
          "TaskEndDate", // ‚úÖ Ï∂îÍ∞Ä
          "Year",
          "Month",
          "Week",
          "StartDate",
          "EndDate",
          "StepNo",
          "Step",
          "Weight",
          "Status",
          "DoneAt",
        ];
        const esc = (v) => {
          const s = String(v ?? "");
          // CSV escape
          if (/[",\n]/.test(s)) return `"${s.replaceAll('"', '""')}"`;
          return s;
        };
        const lines = [];
        lines.push(headers.join(","));
        rows.forEach((r) => {
          lines.push(headers.map((h) => esc(r[h])).join(","));
        });
        return lines.join("\n");
      }
      function downloadCSV() {
        const csv = window.__EXPORT_CSV__ || "";
        const blob = new Blob([csv], { type: "text/csv;charset=utf-8;" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `AITRICS_2026_WBS_${viewDept === "ALL" ? "ALL" : viewDept}.csv`;
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
      }
      async function copyCSV() {
        const csv = window.__EXPORT_CSV__ || "";
        try {
          await navigator.clipboard.writeText(csv);
          alert("CSVÍ∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§.");
        } catch (e) {
          // fallback: select textarea
          const ta = document.getElementById("csv-preview");
          ta.focus();
          ta.select();
          document.execCommand("copy");
          alert("CSV Î≥µÏÇ¨(Ìò∏Ìôò Î™®Îìú) ÏôÑÎ£å");
        }
      }

      /* =====================
   ESCAPE
===================== */
      function escapeHtml(s) {
        return String(s ?? "")
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      /* =====================
   Render All
===================== */
      function renderAll() {
        renderDash();
        renderGantt();
        renderWBS();
        renderExport();
      }

      /* =====================
   BOOT
===================== */
      /* =====================
   WEEK ‚Üí DATE RANGE
===================== */
      const YEAR = 2026;
      const MONTH_MAP = {
        Jan: 0,
        Feb: 1,
        Mar: 2,
        Apr: 3,
        May: 4,
        Jun: 5,
        Jul: 6,
        Aug: 7,
        Sep: 8,
        Oct: 9,
        Nov: 10,
        Dec: 11,
      };

      function firstMondayOfMonth(year, monthIdx) {
        const d = new Date(year, monthIdx, 1);
        const day = d.getDay(); // 0=Sun,1=Mon
        const diff = day === 0 ? 1 : day === 1 ? 0 : 8 - day;
        d.setDate(d.getDate() + diff);
        return d;
      }

      function weekToDateRange(weekLabel) {
        // "Mar W2"
        if (!weekLabel) return { start: "", end: "", year: YEAR, month: "" };
        const m = weekLabel.match(/^([A-Za-z]{3})\s+W(\d)$/);
        if (!m) return { start: "", end: "", year: YEAR, month: "" };

        const mon = m[1];
        const w = Number(m[2]);
        const monthIdx = MONTH_MAP[mon];

        const firstMon = firstMondayOfMonth(YEAR, monthIdx);
        const start = new Date(firstMon);
        start.setDate(firstMon.getDate() + (w - 1) * 7);

        const end = new Date(start);
        end.setDate(start.getDate() + 4); // Í∏àÏöîÏùº

        return {
          year: YEAR,
          month: `${YEAR}-${String(monthIdx + 1).padStart(2, "0")}`,
          week: weekLabel,
          start: start.toISOString().slice(0, 10),
          end: end.toISOString().slice(0, 10),
        };
      }
      renderAll();

      /* =====================
   TASK DATE RANGE (min/max of steps)
===================== */
      function taskDateRange(task) {
        const ranges = task.steps
          .map((s) => weekToDateRange(s.week))
          .filter((r) => r.start && r.end);

        if (ranges.length === 0) {
          return { start: "", end: "" };
        }

        const start = ranges.reduce(
          (min, r) => (r.start < min ? r.start : min),
          ranges[0].start,
        );

        const end = ranges.reduce(
          (max, r) => (r.end > max ? r.end : max),
          ranges[0].end,
        );

        return { start, end };
      }
    </script>
  </body>
</html>
