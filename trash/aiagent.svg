<svg width="1920" height="1080" viewBox="0 0 1920 1080"
     xmlns="http://www.w3.org/2000/svg" role="img"
     aria-label="RAMSES–Agentic AI–Disease Plugin 공통 실행 흐름 (16:9)">
  <defs>
    <style>
      .t { font-family: Pretendard, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif; }
      .h { font-weight: 950; }
      .b { font-weight: 800; }
      .m { font-weight: 700; }
    </style>
  </defs>

  <!-- Canvas -->
  <rect x="0" y="0" width="1920" height="1080" fill="#ffffff"/>

  <!-- Title -->
  <g class="t">
    <text x="120" y="140" font-size="40" class="h" fill="#0f172a">
      RAMSES–Agentic AI–Disease Plugin 공통 실행 구조
    </text>
    <text x="120" y="188" font-size="22" class="b" fill="#475569">
      Control Plane(Agent Ops) – Execution Plane – Domain Plugin | 2·5·6질환 확장성 설명
    </text>
  </g>

  <!-- Frame -->
  <rect x="100" y="230" width="1720" height="620" rx="28"
        fill="none" stroke="rgba(148,163,184,0.45)" stroke-width="2"/>

  <!-- 1. Trigger -->
  <g class="t">
    <rect x="140" y="430" width="300" height="220" rx="22"
          fill="rgba(148,163,184,0.10)" stroke="rgba(148,163,184,0.60)" stroke-width="2"/>
    <text x="180" y="480" font-size="28" class="h" fill="#0f172a">Trigger</text>
    <text x="180" y="520" font-size="18" class="b" fill="#475569">• 증상 입력 / 수치 변화</text>
    <text x="180" y="550" font-size="18" class="b" fill="#475569">• 이벤트 / 일정 도래</text>
    <text x="180" y="580" font-size="18" class="b" fill="#475569">• 사용자 액션</text>
  </g>

  <!-- Arrow 1 -->
  <g fill="none" stroke="rgba(148,163,184,0.85)" stroke-width="4" stroke-linecap="round">
    <path d="M440 540H520"/>
    <path d="M520 540l-18-10m18 10l-18 10"/>
  </g>

  <!-- 2. RAMSES -->
  <g class="t">
    <rect x="520" y="380" width="360" height="320" rx="26"
          fill="rgba(11,18,32,0.08)" stroke="rgba(11,18,32,0.40)" stroke-width="2"/>
    <rect x="520" y="380" width="360" height="14" rx="7" fill="#0b1220"/>
    <text x="560" y="450" font-size="28" class="h" fill="#0f172a">RAMSES</text>
    <text x="560" y="486" font-size="18" class="m" fill="#475569">Agent Ops / Control Plane</text>

    <text x="560" y="530" font-size="18" class="b" fill="#475569">• 플러그인 선택·로딩</text>
    <text x="560" y="560" font-size="18" class="b" fill="#475569">• 권한·Guardrail·승인 Gate</text>
    <text x="560" y="590" font-size="18" class="b" fill="#475569">• 워크플로우/오케스트레이션 통제</text>
    <text x="560" y="620" font-size="18" class="b" fill="#475569">• 로그·감사·재현성</text>

    <text x="560" y="660" font-size="16" class="b" fill="#0f172a">
      SaMD 판단 대상 아님 (운영·통제)
    </text>
  </g>

  <!-- Arrow 2 -->
  <g fill="none" stroke="rgba(148,163,184,0.85)" stroke-width="4" stroke-linecap="round">
    <path d="M880 540H960"/>
    <path d="M960 540l-18-10m18 10l-18 10"/>
  </g>

  <!-- 3. Agentic AI Runtime -->
  <g class="t">
    <rect x="960" y="380" width="420" height="320" rx="26"
          fill="rgba(29,78,216,0.08)" stroke="rgba(29,78,216,0.40)" stroke-width="2"/>
    <rect x="960" y="380" width="420" height="14" rx="7" fill="#1d4ed8"/>
    <text x="1000" y="450" font-size="28" class="h" fill="#0f172a">Agentic AI Runtime</text>
    <text x="1000" y="486" font-size="18" class="m" fill="#475569">Common Execution / Decision Support</text>

    <text x="1000" y="530" font-size="18" class="b" fill="#475569">• 상태(State) 확인</text>
    <text x="1000" y="560" font-size="18" class="b" fill="#475569">• 모니터링 · 트리아지 · 추론</text>
    <text x="1000" y="590" font-size="18" class="b" fill="#475569">• Agent 조합 및 실행</text>
    <text x="1000" y="620" font-size="18" class="b" fill="#475569">• 질환 비의존 공통 로직</text>

    <text x="1000" y="660" font-size="16" class="b" fill="#0f172a">
      SaMD 범위 (의사결정 지원)
    </text>
  </g>

  <!-- Arrow 3 -->
  <g fill="none" stroke="rgba(148,163,184,0.85)" stroke-width="4" stroke-linecap="round">
    <path d="M1380 540H1460"/>
    <path d="M1460 540l-18-10m18 10l-18 10"/>
  </g>

  <!-- 4. Disease Plugin -->
  <g class="t">
    <rect x="1460" y="380" width="340" height="320" rx="26"
          fill="rgba(22,163,74,0.08)" stroke="rgba(22,163,74,0.40)" stroke-width="2"/>
    <rect x="1460" y="380" width="340" height="14" rx="7" fill="#16a34a"/>
    <text x="1500" y="450" font-size="28" class="h" fill="#0f172a">Disease Plugin</text>
    <text x="1500" y="486" font-size="18" class="m" fill="#475569">Domain-specific Logic</text>

    <text x="1500" y="530" font-size="18" class="b" fill="#475569">• 입력 데이터 정의</text>
    <text x="1500" y="560" font-size="18" class="b" fill="#475569">• 룰·임계값·State 전이</text>
    <text x="1500" y="590" font-size="18" class="b" fill="#475569">• 템플릿·지식 DB(RAG)</text>
    <text x="1500" y="620" font-size="18" class="b" fill="#475569">
      • 2·5·6 질환 교체/추가
    </text>

    <text x="1500" y="660" font-size="16" class="b" fill="#0f172a">
      확장 지점 (구조 변경 없음)
    </text>
  </g>

  <!-- Footer -->
  <g class="t">
    <text x="120" y="900" font-size="20" class="b" fill="#475569">
      공통 실행 순서 고정: Trigger → RAMSES(통제) → Agentic AI Runtime(공통 실행) → Disease Plugin(질환 차이)
    </text>
    <text x="120" y="936" font-size="20" class="b" fill="#475569">
      2질환(소아 만성호흡부전), 5질환(위암), 6질환(대장암)은 동일 플랫폼 구조에서 플러그인으로 확장
    </text>
  </g>
</svg>